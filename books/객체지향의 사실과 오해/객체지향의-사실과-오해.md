# 01 협력하는 객체들의 공동체
### 역할, 책임, 협력
- 역할은 관련성 높은 책임의 집합이다.
### 협력 속에 사는 객체
- 객체는 충분히 협력적이어야 한다.
- 객체는 충분히 자율적이어야 한다.
### 상태와 행동을 함께 지닌 자율적인 객체
- 객체를 상태와 행동을 함께 지닌 실체라고 정의한다.  즉, 객체가 협력에 참여하기 위해 어떤 행동을 해야한다면 그 행동을 하는데 필요한 상태도 함께 가지고 있어야 한다.  
- 객체는 다른 객체가 **무엇**을 하는지는 알 수 있지만, **어떻게** 수행하는지는 알 수 없다.
### 협력과 메시지
- 객체지향에서는 **메시지**를 통해 의사소통한다.
### 메서드와 자율성
- 객체가 수신된 메시지를 처리하는 방법을 **메서드**라고 한다.
### 객체를 지향하라
- 객체지향의 핵심은 클래스가 아니다. 핵심은 적절한 책임을 수행하는 역할 간의 유연하고 견고한 협력 관계를 구축하는 것이다.
- 클래스의 구조와 메서드가 아니라 객체의 역할, 책임, 협력에 집중하라

# 02 이상한 나라의 객체
### 상태
- 객체의 프로퍼티는 단순한 값인 **속성**과 다른 객체를 가리키는 **링크**(연관관계)라는 두 가지 종류의 조합으로 표현할 수 있다.
### 행동
- 객체의 행동은 상태의 영향을 받는다. 객체의 행동은 상태를 변경시킨다.
- 객체가 다른 객체와 협력하는 유일한 방법은 다른 객체에게 요청을 보내는 것이다.
### 식별자
- 객체를 서로 구별할 수 있는 특정한 프로퍼티를 **식별자**라고 한다.
- 값이 같은지 여부는 **상태가 같은지**를 이용해 판단한다. 상태를 이용해 두 값이 같은지 판단할 수 있는 이유는 값의 상태가 **불변**이기 때문이다.
- 객체가 같은지 여부는 식별자를 통해 판단할 수 있다. 식별자를 기반으로 객체가 같은지 판단할 수 있는 성질을 **동일성**이라고 한다. 상태를 기반으로 동일성을 판단할 수 없는 이유는 객체의 상태가 **가변**이기 때문이다.
### 행동이 상태를 결정한다.
- 객체지향 설계는 필요한 협력을 생각하고, 협력에 참여하는 데 필요한 행동을 생각한 후 행동을 수행할 객체를 선택하는 방식으로 수행된다.
- 행동을 결정한 후에야 행동에 필요한 정보가 무엇인지 고려하게 되며 이 과정에서 필요한 **상태**가 결정된다.

# 03 타입과 추상화
### 추상화를 통한 복잡성 극복
- 객체지향 패러다임은 객체라는 추상화를 통해 현실의 복잡성을 극복한다.
#### 추상화
- 공통점은 취하고, 차이점은 버리는 **일반화**
- 중요한 부분을 강조하기 위해 불필요한 세부사항을 제가하는 **단순화**
### 객체지향과 추상화
- 개념을 이용해 객체를 여러 그룹으로 분류할 수 있다.
- 객체에 어떤 개념을 적용해서 개념 그룹의 일원이 될 때 객체를 그 개념의 **인스턴스**라고 한다.
### 개념의 3가지 관점
- 심볼: 개념을 가리키는 이름
- 내연: 개념에 속하는지 결정하는 조건
- 외연: 개념에 속하는 모든 객체 집합

# 04 역할, 책임, 협력
## 협력
## 책임
### 책임의 분류
- 하는 것 (doing)
	- 객체를 생성하거나 계산하는 등의 스스로 하는 것
	- 다른 객체의 행동을 시작시키는 것
	- 다른 객체의 활동을 제어하고 조절하는 것
- 아는 것 (knowing)
	- 개인적인 정보에 관해 아는 것
	- 관련된 객체에 관해 아는 것
	- 자신이 유도하거나 계산할 수 있는 것에 관해 아는 것
### 책임과 메시지
한 객체가 다른 객체에게 주어진 책임을 수행하도록 요청을 보내는 것을 **메시지 전송**이라고 한다.  

## 역할
- 동일한 역할을 수행할 수 있다는 것은 해당 객체들이 협력 내에서 동일한 책임의 집합을 수행할 수 있다는 것을 의미한다.
### 협력의 추상화
- 역할의 가장 큰 가치는 하나의 협력 안에서 여러 종류의 객체가 참여할 수 있게 함으로서 협력을 추상화할 수 있다는 것이다.
### 대체 가능성
- 객체는 역할이 암시하는 책임보다 더 많은 책임을 가질 수 있다.
- 역할의 대체 가능성은 행위 호환성을 의미하고, 행위 호환성은 동일한 책임의 수행을 의미한다.

## 객체를 설계하는 순서
1. **협력**을 설계한다. (요청과 응답의 흐름을 결정)
2. 요청과 응답의 흐름은 객체가 수행할 **책임**이 된다.
3. 객체의 책임은 외부에 제공하게 될 **행동**이 된다.
4. 행동을 수행하는 데 필요한 **데이터**를 결정한다.
5. 데이터와 행동이 결정되면 **클래스 구현방법**을 결정한다.

## 객체지향 설계 기법
- 책임-주도 설계
- 디자인 패턴
- 테스트-주도 개발
### 책임-주도 설계
- **객체지향 설계**란 애플리케이션의 기능을 구현하기 위한 **협력 관계를 고안**하고, **협력에 필요한 역할과 책임을 식별**한 후 이를 수행할 수 있는 **적절한 객체를 식별**해나가는 과정이다.
- **책임-주도 설계**는 시스템의 책임을 객체들의 책임으로 변환하고, 각 객체가 책임을 수행하는 중 필요한 정보나 서비스를 제공해줄 협력자를 찾아 책임을 할당하는 순차적인 방식으로 협력 공동체를 구축한다.
- **책임-주도 설계**는 개별적인 객체의 상태가 아니라 객체의 책임과 상호작용에 집중한다.
#### 객체지향 시스템 설계 절차
- 시스템이 사용자에게 제공해야 하는 기능인 **시스템 책임**을 파악
- 시스템 책임을 더 작은 책임으로 분할
- 분할된 책임을 수행할 수 있는 적절한 객체 또는 역할을 찾아 할당
- 객체가 책임을 수행하는 중에 다른 객체의 도움이 필요한 경우 이를 책임질 적절한 객체 또는 역할을 찾는다.
- 해당 객체 또는 역할에게 책임을 할당함으로써 두 객체가 서로 협력하게 한다.

### 디자인 패턴
- 디자인 패턴은 책임-주도 설계의 결과를 표현
- 일반적으로 디자인 패턴은 반복적으로 발생하는 문제와 그 문제의 해답의 쌍으로 정의된다.
### 테스트-주도 개발
- 테스트-주도 개발의 흐름은 실패하는 테스트를 작성하고, 테스트를 통과하는 간단한 코드를 작성한 후, 리팩터링을 통해 중복을 제거하는 것이다.

# 05 책임과 메시지
## 자율적인 책임
- 협력에 참여하는 객체가 얼마나 자율적인지가 전체 애플리케이션의 품질을 결정한다.
- 객체는 '책임'을 각자 자율적인 방식으로 수행한다.
- 객체가 자율적이기 위해서는 객체에게 할당되는 책임의 수준 역시 자율적이어야 한다.
- 너무 추상적인 책임도 좋지 않다. 협력의 의도를 뚜렷하게 표현할 수 있는 정도로 구체적이어야 한다.
### 메시지와 메서드
- 메시지는 **메시지 이름**과 **인자**의 조합이다.
- 메시지 전송은 **메시지**와 **수신자**의 조합이다.
- 수신자는 오직 메시지 수신을 통해서만 자신의 책임을 수행할 수 있다. 따라서 객체가 수신할 수 있는 메시지 모양이 객체가 수행할 책임의 모양을 결정한다.
- 메시지를 처리하기 위해 내부적으로 선택하는 방법을 **메서드**라고 한다.
### 다형성
- 다형성은 하나에 메시지와 하나 이상의 메서드 사이의 관계로 볼 수 있다.
- 메시지는 '무엇'이 실행될지 명시하고, 메서드는 '어떻게' 실행할 것인지를 결정한다.
## 메시지
- What을 결정하고 Who를 결정하라. 즉 메시지를 먼저 결정하라

## 객체 인터페이스
- 인터페이스만 유지된다면 객체 내부구조나 작동 방식을 변경하거나, 다른 객체로 대체한다고 하더라도 인터페이스 사용자에게 영향을 미치지 않는다.
- 인터페이스와 구현을 분리하라

## 자율적인 책임이 협력의 품질을 높이는 이유
1. 협력을 단순하게 만든다.
2. 객체 내부와 외부를 분리한다. (인터페이스와 구현 분리)
3. 구현을 변경하더라도 영향을 미치지 않는다.
4. 협력의 대상을 다양하게 선택할 수 있다. (유연성)
5. 객체의 역할을 이해하기 쉬워진다.

# 06 객체 지도
- 기능이 아니라 **구조**를 기반으로 모델을 구축하는 것이 더 **범용적**이고, **이해하기 쉬우며**, **변경에 안정적**이다.
- 설계를 중요하게 만드는 것은 변경에 대한 필요성이다.
## 기능과 구조
- **구조**는 사용자나 이해관계자들이 도메인에 관해 생각하는 개념들간의 관계로 표현 (도메인 모델링)
- **기능**은 사용자의 목표를 만족시키기 위해 책임을 수행하는 시스템의 행위 (유스케이스 모델링)
## 구조
### 도메인 모델
- 도메인 모델의 핵심은 사용자가 도메인을 바라보는 관점을 반영해 소프트웨어를 설계하고 구현하는 것이다.
- 안적적인 구조를 기반으로 자주 변경되는 기능을 배치함으로써 변경에 대해 안정적인 소프트웨어를 구현할 수 있다.

# 07 함께 모으기

