# WebSocket

## WebSocket이란?
- **양방향 통신**을 지원하는 프로토콜로, 클라이언트와 서버가 실시간으로 데이터를 주고받을 수 있음.
- HTTP와 달리 요청-응답 방식이 아니라, **지속적인 연결**을 통해 데이터 교환.
- 연결 성립 후 클라이언트와 서버가 **자유롭게 메시지를 주고받을 수 있는 풀 이중 통신**을 지원.

---

## WebSocket의 특징
- **양방향 통신**: 클라이언트와 서버가 상호 실시간 데이터 전송 가능.
- **지속적 연결**: 연결이 유지되는 동안 추가 요청 없이 데이터 교환.
- **경량 프로토콜**: HTTP 대비 오버헤드가 적음.
- **이벤트 기반**: 서버 또는 클라이언트에서 이벤트를 통해 메시지 전송.

---

## 동작 방식
1. **Handshake**: 클라이언트가 `Upgrade: websocket` 헤더를 포함한 HTTP 요청을 서버에 전송, 서버가 응답하면 WebSocket 연결 시작.
2. **Data Frame 전송**: 연결 후 클라이언트와 서버가 텍스트 또는 바이너리 데이터를 교환.
3. **종료**: 클라이언트 또는 서버에서 명시적으로 연결을 종료하거나 네트워크 문제 발생 시 종료.

---

## 주요 사용 사례
- **실시간 채팅**: 메시지를 즉각 전송 (예: Slack, Discord).
- **실시간 알림**: 주식 거래, 스포츠 경기 결과 등.
- **멀티플레이어 온라인 게임**: 실시간 상호작용 데이터 교환.
- **IoT 데이터 전송**: 센서 데이터를 서버에 실시간 전송.
- **라이브 데이터 스트리밍**: 비디오, 오디오, 텍스트 스트림.

---

## WebSocket vs. HTTP Polling vs. Server-Sent Events (SSE)
| 기능              | WebSocket        | HTTP Polling              | SSE                   |
|------------------|------------------|--------------------------|-----------------------|
| **양방향 통신**   | 지원             | 지원하지 않음            | 지원하지 않음         |
| **오버헤드**     | 낮음             | 높음                     | 낮음                 |
| **실시간성**     | 우수             | 제한적                   | 서버→클라이언트만 가능 |
| **연결 유지**     | 지속적 연결      | 요청마다 새로운 연결 생성 | 지속적 연결          |

---

## WebSocket의 장점과 단점
### 장점
- 실시간 데이터 전송에 적합.
- HTTP 대비 오버헤드 감소.
- 이벤트 기반으로 구현이 간단.

### 단점
- 연결 유지에 따른 리소스 소비.
- 프록시 서버와 방화벽 설정이 복잡할 수 있음.
- 연결 수 제한 문제.

---

## WebSocket 보안
- **TLS/SSL**을 통해 WebSocket 보안 강화 (`wss://` 사용).
- 연결 수립 시 인증 및 권한 관리 필요.
- 클라이언트 및 서버 측에서 데이터 유효성 검증 필수.