# 프로세스
- 실행 중인 프로그램 (실행되어 메모리에 올라간 상태)
- OS에서 실행되는 작업 단위
- CPU time, memory, file, I/O devices 등의 자원을 필요로함

## 프로그램
- 실행 가능한 명령어의 집합

## 메모리 구조
- 하나의 프로세스 마다 Text, Data, Heap, Stack 영역이 존재
- **Text**: 실행가능한 코드가 저장되는 영역
- **Data**: 전역 변수들이 저장
- **Heap**: malloc, new 키워드 등에 의해 동적으로 배정되는 영역
- **Stack**: 함수 실행을 위한 영역. 함수 인자, 지역변수, 리턴 주소 등이 저장됨

## 프로세스 생명주기
- **New**: 프로세스가 생성된 상태
- **Running**: 프로세스의 명령이 실행 중인 상태
- **Waiting**: 이벤트 발생을 기다리는 상태 (I/O 등의 이벤트)
- **Ready**: 프로세서 할당을 기다리는 상태
- **Terminated**: 종료된 상태

## PCB
- 운영체제가 관리가 가지는 프로세스의 정보
	- 프로세스 상태: 현재 프로세스의 상태(running, waiting 등)
	- PC(Program counter): 다음에 실행될 명령어의 주소
	- CPU register: Instruction Register, Data Register 등 CPU 레지스터 정보
	- CPU 스케줄링 정보
	- 메모리 관리 정보
	- 계정 정보
	- I/O 상태 정보


## 프로세스 스케줄링
### 멀티 태스킹
- 멀티 태스킹을 통해 CPU가 낭비되는 시간 없이 효율적으로 사용할 수 있다.
- 여러 프로세스를 빠르게 교체해 실행시켜 동시성을 얻는다.
- 한 프로세스가 다른 프로세스로 교체될 때 컨텍스트 스위칭이 일어난다.
### 컨텍스트 스위칭
- 컨텍스트 스위칭은 CPU에서 실행 중인 프로세스가 다른 프로세스로 교체되는 걸 말한다.
- 더 정확히는 프로세스 교체를 위해 문맥을 저장/복원하는 작업을 의미한다.
- 프로세스가 교체될 때 현재 실행중인 프로세스의 컨텍스트를 저장하고, 다른 프로세스의 컨텍스트를 복원한다.
- 해당 프로세스의 PCB를 통해 다음에 실행될 명령어 위치, 우선순위 등을 알 수 있다. 

## IPC
- Inter Process Communication
- 프로세스 간 통신 및 작업 동기화를 위한 메커니즘
- 두 가지 IPC 모델
	1. shared memory
	2. message passing 
### Shared Memory
- 다른 프로세스 메모리 영역에 직접 접근하면 안되기 때문에 **공유하는 메모리 영역을 할당해 통신한다**.
- 데이터 형식과 위치는 운영체제가 아닌 프로세스가 결정한다.
- 동시에 접근할 경우 경합이 발생할 수 있다.
- 데이터가 변경될 경우 데이터 불일치가 발생할 수 있다.

### Message Passing
- 운영체제가 관리하는 메시지 큐를 통해 메시지를 송수신한다.
- 메시지 큐를 통해 송수신하기 때문에 송신자와 수신자 사이의 동기화 문제가 발생하지 않는다.
- 메시지를 보내고, 받는 기능과 커뮤니케이션 링크가 필요하다.
- 커뮤니케이션 링크는 다양한 방식으로 구현될 수 있다.
	- **direct**: 전송할 대상, 혹은 수신할 대상을 명시해야 함
	- **indirect**: 특정 포트(메일 박스)로 데이터를 전송하고, 해당 포트에서 데이터를 가져온다.
	- sync, async