## Transaction
DB의 데이터를 변경하는 중 예외가 발생하면 DB 데이터들을 수정되기 전 상태로 돌려야한다. 이렇게 데이터를 원래 상태로 돌리는 작업을 롤백이라고 한다.  
일련의 작업 중 문제가 발생할 경우 롤백하기 위해 사용하는 것이 **트랜잭션**이다.
스프링 프레임워크에서는 `@Transactional` 애노테이션을 통해 트랜잭션 처리를 지원한다.
`@Transactional` 애노테이션을 클래스에 적용하면, 클래스 내 모든 메소드와 하위 클래스에 트랜젝션 속성을 부여할 수 있다.  
기본적으로 `RuntimeException`이나 `Error`가 발생할 경우 롤백한다.  

## readOnly 속성
`@Transactional(readOnly = true)`로 Entity의 예상지 못한 변경을 방지할 수 있다.  
엔티티 매니저는 커밋 시점에 자동으로 flush()를 실행하지만,`readOnly = true`로 설정하면 flush를 자동으로 실행하지 않도록 해 변경을 방지한다.

JPA의 엔티티 메니저에는 변경 감지(Dirty Checking) 기능이 존재하는데, 이 기능으로 업데이트 메서드를 따로 실행하지 않아도 엔티티 변경을 감지해 업데이트 쿼리를 날릴 수 있게된다.  
읽기 전용으로 엔티티를 조회할 경우 변경 감지를 위한 snapshot을 저장할 필요가 없어 메모리가 절약된다.



